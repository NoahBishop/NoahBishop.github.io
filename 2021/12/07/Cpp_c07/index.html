<!DOCTYPE html>
<html lang="zh-CN">

<head>
	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	
		<title itemprop="name">
			
				(ch7) Associative Containers | 
						うさぎの手帳
		</title>
		
			<link rel="shortcut icon" href="/images/favicon.ico">
			
				<meta http-equiv="x-dns-prefetch-control" content="on">
				<link rel="stylesheet"
					href="https://fonts.googleapis.com/css?family=Noto+SerifMerriweather|Merriweather+Sans|Source+Code+Pro|Ubuntu:400,700|Noto+Serif+SC"
					media="all">
				<link rel="dns-prefetch" href="//cdn.jsdelivr.net">
				<link rel="stylesheet" id="saukra_css-css" href="/css/style.css" type="text/css" media="all">
				<link rel="stylesheet" href="/css/lib.min.css" media="all">
				<link rel="stylesheet" href="/css/font.css" media="all">
				<link rel="stylesheet" href="/css/insight.css" media="all">
				<link rel="stylesheet" href="/css/jquery.fancybox.min.css" media="all">
				<link rel="stylesheet" href="/css/zoom.css" media="all">
				<link rel="stylesheet" type="text/css" href="/css/sharejs.css">
				<!--   <link rel="stylesheet" id="saukra_css-css" href="https://2heng.xin/wp-content/cache/autoptimize/css/autoptimize_ad42a61f4c7d4bdd9f91afcff6b5dda5.css
" type="text/css" media="all"> -->
				<script>
					/*Initial Variables*/
					var mashiro_option = new Object();
					var mashiro_global = new Object();
					mashiro_option.NProgressON = true;
					/* 
					* 邮箱信息之类的东西可以填在这里，这些js变量基本都作用于sakura-app.js
					* 这样的设置仅是为了方便在基于PHP开发的主题中设置js变量，既然移植到了Node上，我想或许可以精简这一逻辑吧
					*/
					mashiro_option.email_domain = "";
					mashiro_option.email_name = "";
					mashiro_option.cookie_version_control = "";
					mashiro_option.qzone_autocomplete = false;
					mashiro_option.site_name = "桜荘そのうさぎ";
					mashiro_option.author_name = "うさぎ";
					mashiro_option.site_url = "https://morning.eu.org";
					mashiro_option.v_appId = "EAyicHJhXmxJNEeuhACVujd4-gzGzoHsz";
					mashiro_option.v_appKey = "09Tjj4It5DOhgboduuM40u7y";
					mashiro_option.mathjax = "0";
	//mashiro_option.qq_api_url = "https://api.mashiro.top/qqinfo/";
	//mashiro_option.qq_avatar_api_url = "https://api.mashiro.top/qqinfo/";

	// mashiro_option.jsdelivr_css_src = "https://cdn.jsdelivr.net/gh/moezx/cdn@3.4.5/css/lib.min.css";
	// mashiro_option.float_player_on = true;

					/*End of Initial Variables*/
				</script>
				<script type="text/javascript">
					var bg = "https://morning.eu.org/images/cover/(1).jpg.webp,https://morning.eu.org/images/cover/(2).jpg.webp,https://morning.eu.org/images/cover/(3).jpg.webp,https://morning.eu.org/images/cover/(4).jpg.webp".split(",");
					var bgindex = Math.floor(Math.random() * bg.length);
					if (!!window.ActiveXObject || "ActiveXObject" in window) { //is IE?
						alert('朋友，IE浏览器未适配哦~');
					}
				</script>
				<script src="//code.bdstatic.com/npm/leancloud-storage@4.12.0/dist/av-min.js"></script>
				<script src='//unpkg.com/valine@1.3.9/dist/Valine.min.js'></script>
				<style type="text/css">
					.hljs-ln {
						border-collapse: collapse
					}

					.hljs-ln td {
						padding: 0
					}

					.hljs-ln-n:before {
						content: attr(data-line-number)
					}
				</style>
				<style type="text/css">
					.site-top .lower nav {
						display: block !important;
					}

					.author-profile i,
					.post-like a,
					.post-share .show-share,
					.sub-text,
					.we-info a,
					span.sitename,
					.post-more i:hover,
					#pagination a:hover,
					.post-content a:hover,
					.float-content i:hover {
						color: #FE9600
					}

					.feature i,
					.download,
					.navigator i:hover,
					.links ul li:before,
					.ar-time i,
					span.ar-circle,
					.object,
					.comment .comment-reply-link,
					.siren-checkbox-radio:checked+.siren-checkbox-radioInput:after {
						background: #FE9600
					}

					::-webkit-scrollbar-thumb {
						background: #FE9600
					}

					.download,
					.navigator i:hover,
					.link-title,
					.links ul li:hover,
					#pagination a:hover,
					.comment-respond input[type='submit']:hover {
						border-color: #FE9600
					}

					.entry-content a:hover,
					.site-info a:hover,
					.comment h4 a,
					#comments-navi a.prev,
					#comments-navi a.next,
					.comment h4 a:hover,
					.site-top ul li a:hover,
					.entry-title a:hover,
					#archives-temp h3,
					span.page-numbers.current,
					.sorry li a:hover,
					.site-title a:hover,
					i.iconfont.js-toggle-search.iconsearch:hover,
					.comment-respond input[type='submit']:hover {
						color: #FE9600
					}

					.comments .comments-main {
						display: block !important;
					}

					.comments .comments-hidden {
						display: none !important;
					}

					background-position:center center;
					background-attachment:inherit;
					}
				</style>
<meta name="generator" content="Hexo 5.4.2"></head>
<body class="page-template page-template-user page-template-page-analytics page-template-userpage-analytics-php page page-id-1297 chinese-font serif isWebKit">
  <div class="scrollbar" id="bar">
  </div>
  <a href="#" class="cd-top faa-float animated"></a>
  <section id="main-container">
    <div class="headertop filter-dot">
  <div id="banner_wave_1"></div>
  <div id="banner_wave_2"></div>
  <figure id="centerbg" class="centerbg">
    <div class="focusinfo no-select">
      <div class="header-tou">
        <a target="_blank" rel="noopener" href="https://morning.eu.org">
          <img src="https://morning.eu.org/images/custom/avatar.jpg">
        </a>
      </div>
      <div class="header-info">
        <p>
          Live your life with passion! With some drive!
        </p>
        <div class="top-social_v2">
          <li id="bg-pre">
            <img class="flipx" src="/images/other/next-b.svg">
          </li>
          
            
              
                  <li>
                    <a href="https://github.com/NoahBishop" target="_blank" class="social-github" title="github">
                      <img src="https://morning.eu.org/images/social/github.png">
                    </a>
                  </li>
                  
                    
              
                  <li>
                    <a href="https://t.me/mega1037" target="_blank" class="social-github" title="telegram">
                      <img src="https://morning.eu.org/images/social/telegram.png">
                    </a>
                  </li>
                  
                    
              
                  <li>
                    <a href="https://music.163.com/#/user/home?id=305378376" target="_blank" class="social-github" title="netease">
                      <img src="https://morning.eu.org/images/social/wangyiyun.png">
                    </a>
                  </li>
                  
                    
              
                  <li>
                    <a href="https://www.twitter.com/noah_bishop_z" target="_blank" class="social-github" title="twitter">
                      <img src="https://morning.eu.org/images/social/twitter.png">
                    </a>
                  </li>
                  
                    
              
                  <li>
                    <a href="mailto:beiloquuw@gamil.com" target="_blank" class="social-github" title="email">
                      <img src="https://morning.eu.org/images/social/email.svg">
                    </a>
                  </li>
                  
                    
                      
                        <li id="bg-next">
                          <img src="/images/other/next-b.svg">
                        </li>
        </div>
      </div>
    </div>
  </figure>
  <div id="video-container" style="">
    <video style="object-fit: fill" id="bgvideo" class="video" video-name="" src="" width="auto" preload="auto">
    </video>
    <div id="video-btn" class="loadvideo videolive">
    </div>
    <div id="video-add">
    </div>
    <div class="video-stu">
    </div>
  </div>
  <div class="headertop-down faa-float animated" onclick="headertop_down()">
    <span>
      <i class="fa fa-chevron-down" aria-hidden="true">
      </i>
    </span>
  </div>
</div>
    <div id="page" class="site wrapper">
      <header class="site-header no-select gizle sabit" role="banner">
  <div class="site-top">
    <div class="site-branding">
      <span class="site-title">
        <span class="logolink moe-mashiro">
          <a href="/">
            <span class="sakurasono">桜荘その</span>
            <span class="shironeko">うさぎ</span>
          </a>
        </span>
      </span>
    </div>
    <div class="searchbox search-form-submit">
      <i class="iconfont js-toggle-search iconsearch icon-search">
      </i>
    </div>
    <div id="show-nav" class="showNav mobile-fit">
      <div class="line line1">
      </div>
      <div class="line line2">
      </div>
      <div class="line line3">
      </div>
    </div>
    <div class="lower-cantiner">
      <div class="lower">
        <nav class="mobile-fit-control hide">
          <ul id="menu-new" class="menu">
            
              <li>
                <a href="/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
                    首页
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/archives">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
                    归档
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/categories/%E6%8A%80%E6%9C%AF/">
                          <i class="fa fa-code" aria-hidden="true"></i>
                          技术
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/%E7%94%9F%E6%B4%BB/">
                          <i class="fa fa-file-text-o" aria-hidden="true"></i>
                          生活
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/%E8%B5%84%E6%BA%90/">
                          <i class="fa fa-cloud-download" aria-hidden="true"></i>
                          资源
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/%E9%9A%8F%E6%83%B3/">
                          <i class="fa fa-commenting-o" aria-hidden="true"></i>
                          随想
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/%E8%BD%AC%E8%BD%BD/">
                          <i class="fa fa-book" aria-hidden="true"></i>
                          转载
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/tags/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-tag" aria-hidden="true"></i>
                    标签
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="javascript:;">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-list-ul faa-vertical" aria-hidden="true"></i>
                    清单
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/music/">
                          <i class="fa fa-headphones" aria-hidden="true"></i>
                          歌单
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/comment/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
                    留言板
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/links/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-link faa-shake" aria-hidden="true"></i>
                    友人帐
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-leaf faa-wrench" aria-hidden="true"></i>
                    关于
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/about/">
                          <i class="fa fa-meetup" aria-hidden="true"></i>
                          我？
                        </a>
                      </li>
                    
                      <li>
                        <a href="/theme-sakura/">
                          <i class="fa iconfont icon-sakura" aria-hidden="true"></i>
                          主题
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/atom.xml">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-rss faa-pulse" aria-hidden="true"></i>
                    RSS
                  </span>
                </a>
                
              </li>
            
          </ul>
        </nav>
      </div>
    </div>
  </div>
</header>

      <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">
<div class="pattern-center-blank"></div>

  <div class="pattern-center single-center">
    <!-- 有配图默认渲染第一张 -->
    <div class="pattern-attachment-img lazyload" style="background-image: url('/images/cover/C_background.webp');" src="" data-src="/images/cover/C_background.webp">
    </div>
    <header class="pattern-header single-header">
      <h1 class="entry-title">
      (ch7) Associative Containers</h1>
      <p class="entry-census">
        <span>
          <a href="morning.eu.org">
            <img src="/images/custom/avatar.jpg">
          </a>
        </span>
        <span>
          <a href="morning.eu.org">Noah</a>
        </span>
        <span class="bull">
        ·</span>
        2021-12-7<span class="bull">
        ·</span>
      <span id="busuanzi_value_page_pv"></span>次阅读</p>
    </header>
  </div>

<div id="content" class="site-content">
  <div id="primary" class="content-area">
    <main id="main" class="site-main" role="main">
      <article id="post-1" class="post-1 post type-post status-publish format-standard has-post-thumbnail hentry category-uncategorized">
        <div class="toc"></div>
        <!--<div class="toc-entry-content"><!-- 套嵌目录使用（主要为了支援评论）-->
        
        <div class="entry-content">
          <h1 id="Associative-Containers"><a href="#Associative-Containers" class="headerlink" title="Associative Containers"></a>Associative Containers</h1><p>Associative and sequential containers differ from one another in a fundamental way: Elements in an associative container are stored and retrieved by a <strong>key</strong>. In contrast, elements in a sequential container are stored and accessed sequentially by their <strong>position</strong> in the container.</p>
<p>Associative containers support efficient <strong>lookup</strong> and <strong>retrieval</strong> by a <strong>key</strong>. The two primary associative-container types are <code>map</code> and <code>set</code>. The elements in a map are key–value pairs: The key serves as an index into the map, and the value represents the data associated with that index. A set element contains only a key; a set supports efficient queries as to whether a given key is present. We might use a set to hold words that we want to ignore during some kind of text processing. A dictionary would be a good use for a map: The word would be the key, and its definition would be the value.</p>
<p>The library provides eight associative containers, listed in next table. These eight differ along three dimensions: Each container is (1) a set or a map, (2) requires unique keys or allows multiple keys, and (3) stores the elements in order or not.</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>map</td>
<td>Associated array; Key-value pairs</td>
</tr>
<tr>
<td>set</td>
<td>unique key;</td>
</tr>
<tr>
<td>multimap</td>
<td>key can appear multiple times</td>
</tr>
<tr>
<td>multiset</td>
<td>key can appear multiple times</td>
</tr>
<tr>
<td>unordered_map</td>
<td>hash ~</td>
</tr>
<tr>
<td>unordered_set</td>
<td>hash ~</td>
</tr>
<tr>
<td>unordered_multimap</td>
<td>hash ~</td>
</tr>
<tr>
<td>unordered_multiset</td>
<td>hash ~</td>
</tr>
</tbody>
</table>
<h2 id="Using-an-Associative-Container"><a href="#Using-an-Associative-Container" class="headerlink" title="Using an Associative Container"></a>Using an Associative Container</h2><h3 id="Using-a-map"><a href="#Using-a-map" class="headerlink" title="Using a map"></a>Using a map</h3><p>A classic example that relies on associative arrays is a word-counting program, this program reads its input and reports how often each word appears.</p>
<pre><code class="c++">//read word from istream, when word is EOF end read
int read_word(istream&amp; in, string&amp; word) &#123;
 in &gt;&gt; word;
 if (word == (&quot;EOF&quot;)) &#123;
  return 0;
 &#125;
 return 1;
&#125;

int main() &#123;
 // count the number of times each word occurs in the input
 map&lt;string, size_t&gt; count_words;
 string word;
 while (read_word(cin, word)) &#123;
  ++count_words[word];
 &#125;
 //in vs2019 type rfor can autofill for range
 for (const auto&amp; w : count_words) &#123;
  cout &lt;&lt; w.first &lt;&lt; &quot; appear &quot; &lt;&lt; w.second &lt;&lt; &quot; times.&quot; &lt;&lt; endl;
 &#125;
 return 0;
&#125;
//C++
//java
//C++
//c#
//EOF
//C++ appear 2 times.
//c# appear 1 times.
//java appear 1 times.
</code></pre>
<p>Like the sequential containers, the associative containers are <code>templates</code>. To define a <code>map</code>, we must specify both the <strong>key</strong> and value <strong>types</strong>. In this program, the map stores elements in which the keys are <code>string</code> and the values are <code>size_t</code>. When we subscript word_count, we use a string as the subscript, and we get back the size_t counter associated with that string.</p>
<h3 id="Using-a-set"><a href="#Using-a-set" class="headerlink" title="Using a set"></a>Using a set</h3><p>As a example, suppose some words we want exclude when count word, we can use a set to save the words need to exclude.</p>
<pre><code class="C++">//SAME------
//save exclude word
while (read_word(cin, word)) &#123;
 exclude.insert(word);
&#125;
//count word
while (read_word(cin, word)) &#123;
 if (exclude.find(word) == exclude.end())
  ++count_words[word];
&#125;
//SAME------
</code></pre>
<p>Like the other containers, set is a <code>template</code>. To define a set, we specify the type of its elements, which in this case are <code>string</code>.</p>
<h2 id="Overview-of-the-Associative-Containers"><a href="#Overview-of-the-Associative-Containers" class="headerlink" title="Overview of the Associative Containers"></a>Overview of the Associative Containers</h2><p>Associative containers (both ordered and unordered) support the general container operations covered in previous chapter table. However, the associative containers do not support the sequential-container position-specific operations, such as <code>push_front</code> or <code>back</code>.</p>
<h3 id="Defining-an-Associative-Container"><a href="#Defining-an-Associative-Container" class="headerlink" title="Defining an Associative Container"></a>Defining an Associative Container</h3><p>As we’ve just seen, when we define a map, we must indicate both the key and value type; when we define a set, we specify only a key type, because there is no value type. Each of the associative containers defines a default constructor, which creates an empty container of the specified type. We can also initialize an associative container as a copy of another container of the same type or from a range of values, so long as those values can be converted to the type of the container. Under the new standard, we can also list initialize the elements:</p>
<pre><code class="c++">map&lt;string, size_t&gt; count_words = &#123; &#123;&quot;hello&quot;,3&#125; &#125;;
set&lt;string&gt; exclude = &#123; &quot;c++&quot;,&quot;Java&quot; &#125;;
</code></pre>
<p>The keys in a <code>map</code> or a <code>set</code> must be <strong>unique</strong>; there can be only one element with a given key. The <code>multimap</code> and <code>multiset</code> containers have no such restriction; there can be several elements with the same key. For example, the map we used to count words must have only one element per given word. On the other hand, a dictionary could have several definitions associated with a particular word.</p>
<pre><code class="c++">// define a vector with 20 elements, holding two copies of each number from 0 to 9
vector&lt;int&gt; ivec;
for (vector&lt;int&gt;::size_type i = 0; i != 10; ++i) &#123;
 ivec.push_back(i);
 ivec.push_back(i); // duplicate copies of each number
&#125;
// iset holds unique elements from ivec; miset holds all 20 elements
set&lt;int&gt; iset(ivec.cbegin(), ivec.cend());
multiset&lt;int&gt; miset(ivec.cbegin(), ivec.cend());
cout &lt;&lt; ivec.size() &lt;&lt; endl; // prints 20
cout &lt;&lt; iset.size() &lt;&lt; endl; // prints 10
cout &lt;&lt; miset.size() &lt;&lt; endl; // prints 20
</code></pre>
<h3 id="Requirements-on-Key-Type"><a href="#Requirements-on-Key-Type" class="headerlink" title="Requirements on Key Type"></a>Requirements on Key Type</h3><p>The associative containers place constraints on the type that is used as a key. We’ll cover the requirements for keys in the unordered containers in section 4. For the <strong>ordered</strong> containers, the key type must define a way to <strong>compare</strong> the elements. By default, the library uses the <code>&lt;</code> operator for the key type to compare the keys. In the set types, the key is the element type; in the map types, the key is the first type.</p>
<h3 id="The-pair-Type"><a href="#The-pair-Type" class="headerlink" title="The pair Type"></a>The pair Type</h3><p>Before we look at the operations on associative containers, we need to know about the library type named <code>pair</code>, which is defined in the <code>utility</code> header. A <code>pair</code> holds two data members. Like the containers, pair is a template from which we generate specific types. We must supply two type names when we create a pair. The data members of the pair have the corresponding types. There is no requirement that the two types be the same:</p>
<pre><code class="c++">pair&lt;string, string&gt; anon; // holds two strings
pair&lt;string, size_t&gt; word_count; // holds a string and an size_t
pair&lt;string, vector&lt;int&gt;&gt; line; // holds string and vector&lt;int&gt;
</code></pre>
<p>We can also provide initializers for each member:</p>
<pre><code class="c++">pair&lt;string, string&gt; author&#123;&quot;James&quot;, &quot;Joyce&quot;&#125;;
</code></pre>
<p>Unlike other library types, the data members of pair are public. These members are named first and second, respectively.</p>
<pre><code class="c++">cout &lt;&lt;author.first&lt;&lt;author.second &lt;&lt; endl;
</code></pre>
<p>Imagine we have a function that needs to return a <code>pair</code>. Under the new standard we can list initialize the return value:</p>
<pre><code class="c++">pair&lt;string, int&gt; process(vector&lt;string&gt;&amp; v) &#123;
 // process v
 if (!v.empty())
  return &#123; v.back(), v.back().size() &#125;; // list initialize
 else
  return pair&lt;string, int&gt;(); // explicitly constructed return value
&#125;
</code></pre>
<p>Alternatively, we could have used <code>make_pair</code> to generate a new pair of the appropriate type from its two arguments:</p>
<pre><code class="c++">return make_pair(v.back(), v.back().size());
</code></pre>
<h2 id="Operations-on-Associative-Containers"><a href="#Operations-on-Associative-Containers" class="headerlink" title="Operations on Associative Containers"></a>Operations on Associative Containers</h2><p>In addition to the types listed in previous chapter, the associative containers define the types listed in next list:</p>
<ol>
<li>key_type: type of the key for container tyoe</li>
<li>map_type: type associated with each key.</li>
<li>value_type: for set same as key_type</li>
</ol>
<pre><code class="c++">set&lt;string&gt;::value_type v1; // v1 is a string
set&lt;string&gt;::key_type v2; // v2 is a string
map&lt;string, int&gt;::value_type v3; // v3 is a pair&lt;const string, int&gt;
map&lt;string, int&gt;::key_type v4; // v4 is a string
map&lt;string, int&gt;::mapped_type v5; // v5 is an int
</code></pre>
<h3 id="Associative-Container-Iterators"><a href="#Associative-Container-Iterators" class="headerlink" title="Associative Container Iterators"></a>Associative Container Iterators</h3><p>When we dereference an iterator, we get a reference to a value of the container’s value_type. In the case of <code>map</code>, the <code>value_type</code> is a pair in which <code>first</code> holds the const key and <code>second</code> holds the value:</p>
<pre><code class="c++">// get an iterator to an element in word_count
map&lt;string, size_t&gt; count_words = &#123; &#123;&quot;hello&quot;,3&#125; &#125;;
auto map_it = count_words.begin();
// *map_it is a reference to a pair&lt;const string, size_t&gt; object
cout &lt;&lt; map_it-&gt;first; // prints the key for this element
cout &lt;&lt; &quot; &quot; &lt;&lt; map_it-&gt;second; // prints the value of the element
map_it-&gt;first = &quot;new key&quot;; // error: key is const
++map_it-&gt;second; // ok: we can change the value through an iterator
</code></pre>
<p>Although the set types define both the <code>iterator</code> and <code>const_iterator</code> types, both types of iterators give us <strong>read-only access</strong> to the elements in the <code>set</code>. Just as we cannot change the key part of a map element, the keys in a set are also const. We can use a set iterator to read, but not write, an element’s value:</p>
<pre><code class="c++">set&lt;int&gt; iset = &#123;0,1,2,3,4,5,6,7,8,9&#125;;
set&lt;int&gt;::iterator set_it = iset.begin();
if (set_it != iset.end()) &#123;
 *set_it = 42; // error: keys in a set are read-only
 cout &lt;&lt; *set_it &lt;&lt; endl; // ok: can read the key
&#125;
</code></pre>
<p>In general, we do <strong>not</strong> use the <strong>generic algorithms</strong> with the associative containers. The fact that the keys are const means that we cannot pass associative container iterators to algorithms that write to or reorder container elements. Such algorithms need to write to the elements. The elements in the set types are const, and those in maps are pairs whose first element is const.</p>
<p>Associative containers can be used with the algorithms that read elements. However, many of these algorithms search the sequence. Because elements in an associative container can be found (<strong>quickly</strong>) by their <strong>key</strong>, it is almost always a bad idea to use a generic search algorithm.</p>
<h3 id="Adding-Elements"><a href="#Adding-Elements" class="headerlink" title="Adding Elements"></a>Adding Elements</h3><p>The <code>insert</code> members add one element or a range of elements. Because map and set (and the corresponding unordered types) contain unique keys, inserting an element that is already present has no effect:</p>
<pre><code class="c++">vector&lt;string&gt; k = &#123; &quot;ourb&quot;,&quot;uvrgsu&quot;,&quot;ourb&quot; &#125;;
auto m = process(k);
set&lt;string&gt; s;
s.insert(k.begin(), k.end());
s.insert(&#123; &quot;ourb&quot;,&quot;ivgr&quot; &#125;);
</code></pre>
<p>The versions of insert that take a pair of iterators or an initializer list work similarly to the corresponding constructors—only the first element with a given key is inserted.</p>
<p>When we <code>insert</code> into a <code>map</code>, we must remember that the element type is a <code>pair</code>. Often, we don’t have a pair object that we want to insert. Instead, we create a pair in the argument list to insert:</p>
<pre><code class="c++">// four ways to add word to word_count
word_count.insert(&#123;word, 1&#125;);
word_count.insert(make_pair(word, 1));
word_count.insert(pair&lt;string, size_t&gt;(word, 1));
word_count.insert(map&lt;string, size_t&gt;::value_type(word, 1));
</code></pre>
<p>The value <strong>returned by insert</strong> (or emplace) depends on the container type and the parameters. For the containers that have unique keys, the versions of insert and emplace that add a single element return a pair that lets us know whether the insertion happened. The <strong>first</strong> member of the pair is an iterator to the element with the <strong>given key</strong>; the <strong>second</strong> is a <strong>bool</strong> indicating whether that element was inserted, or was already there. If the key is already in the container, then insert does nothing, and the bool portion of the return value is false. If the key isn’t present, then the element is inserted and the bool is true.</p>
<pre><code class="c++">while (read(cin,word)) &#123;
 auto isSuccess = count_words.insert(&#123; word,1 &#125;);
 if (!isSuccess.second) &#123;
  ++isSuccess.first-&gt;second;
 &#125;
&#125;
</code></pre>
<p>For each <code>word</code>, we attempt to insert it with a value 1. If word is already in the <code>map</code>, then nothing happens. In particular, the counter associated with word is unchanged. If <code>word</code> is <strong>not</strong> already in the map, then that string is added to the map and its counter value is set to 1.</p>
<p>Our word-counting program depends on the fact that a given key can <strong>occur only once</strong>. That way, there is only one counter associated with any given word. Sometimes, we want to be able to add additional elements with the same key.</p>
<pre><code class="c++">multimap&lt;string, int&gt; au;
au.insert(&#123; &quot;A&quot;,10 &#125;);
au.insert(&#123; &quot;A&quot;,20 &#125;);
cout &lt;&lt; au.size() &lt;&lt; endl; // 2
</code></pre>
<h3 id="Erasing-Elements"><a href="#Erasing-Elements" class="headerlink" title="Erasing Elements"></a>Erasing Elements</h3><p>The associative containers define three versions of erase, which are described in next table. As with the sequential containers, we can erase one element or a range of elements by passing erase an iterator or an iterator pair. These versions of erase are similar to the corresponding operations on sequential containers: The indicated element(s) are removed and the function returns void.</p>
<table>
<thead>
<tr>
<th>version</th>
<th>means</th>
</tr>
</thead>
<tbody>
<tr>
<td>erase (const_iterator position);</td>
<td>erase by a iterator.</td>
</tr>
<tr>
<td>erase (const key_type&amp; k);</td>
<td>erase by a key.</td>
</tr>
<tr>
<td>erase (first, last)</td>
<td>erase by a range of element by a pair of iterator.</td>
</tr>
</tbody>
</table>
<p>The version need parameter <code>k</code> removes all the elements, if any, with the given key and <strong>returns</strong> a count of how many elements were removed.</p>
<pre><code class="c++">if (word_count.erase(removal_word))
 cout &lt;&lt; &quot;ok: &quot; &lt;&lt; removal_word &lt;&lt; &quot; removed\n&quot;;
else cout &lt;&lt; &quot;oops: &quot; &lt;&lt; removal_word &lt;&lt; &quot; not found!\n&quot;;
</code></pre>
<h3 id="Subscripting-a-map"><a href="#Subscripting-a-map" class="headerlink" title="Subscripting a map"></a>Subscripting a map</h3><p>The <code>map</code> and <code>unordered_map</code> containers provide the subscript operator and a corresponding a~t function. The <code>set</code> types do not support subscripting because there is no “value” associated with a key in a set. The elements are themselves keys, so the operation of “fetching the value associated with a key” is meaningless. We <strong>can not</strong> subscript a <code>multimap</code> or an <code>unordered_multimap</code> because there may be more than one value associated with a given key.</p>
<p>Like the other subscript operators we’ve used, the map subscript takes an index (that is, a key) and fetches the value associated with that key. However, unlike other subscript operators, if the key is not already present, a new element is created and inserted into the map for that key.</p>
<pre><code class="c++">// a empty map
map&lt;string, string&gt; au;
// insert a value-initialized element with key a; then assign 10 to its value
au[&quot;a&quot;] = &quot;10&quot;;
// a invalid kay will return initialize value and save
cout &lt;&lt; au[&quot;b&quot;] &lt;&lt; endl;
</code></pre>
<ol>
<li>au is searched for the element whose key is <code>a</code>. The element is not found.</li>
<li>A new key-value pair is inserted into au. The key is a const string holding Anna. The value is value initialized, meaning in this case that the value is <code>&quot;&quot;</code>.</li>
<li>The newly inserted element is fetched and is given the value “<code>10</code>“.</li>
</ol>
<p>The fact that the subscript operator adds an element if it is not already in the map, On the other hand, sometimes we only want to know whether an element is present and do not want to add the element if it is not.</p>
<h3 id="Accessing-Elements"><a href="#Accessing-Elements" class="headerlink" title="Accessing Elements"></a>Accessing Elements</h3><p>The associative containers provide various ways to find a given element, which are described in next table. Which operation to use depends on what problem we are trying to solve. If all we care about is whether a particular element is in the container, it is probably best to use <code>find</code>. For the containers that can hold only unique keys, it probably doesn’t matter whether we use <code>find</code> or <code>count</code>. However, for the containers with multiple keys, count has to do more work: If the element is present, it still has to count how many elements have the same key. If we don’t need the <code>count</code>, it’s best to use <code>find</code>:</p>
<table>
<thead>
<tr>
<th>methods</th>
<th>means</th>
</tr>
</thead>
<tbody>
<tr>
<td><a target="_blank" rel="noopener" href="https://www.cplusplus.com/reference/map/map/find/"><strong>find</strong></a></td>
<td>Get iterator to element</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://www.cplusplus.com/reference/map/map/count/"><strong>count</strong></a></td>
<td>Count elements with a specific key</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://www.cplusplus.com/reference/map/map/lower_bound/"><strong>lower_bound</strong></a></td>
<td>Return iterator to lower bound</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://www.cplusplus.com/reference/map/map/upper_bound/"><strong>upper_bound</strong></a></td>
<td>Return iterator to upper bound</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://www.cplusplus.com/reference/map/map/equal_range/"><strong>equal_range</strong></a></td>
<td>Get range of equal elements</td>
</tr>
</tbody>
</table>
<pre><code class="c++">multiset&lt;int&gt; iset = &#123; 0,1,2,3,4,5,6,7,8,9,1 &#125;;
auto fa1 = iset.find(1); //returns an iterator that refers to the element with key = 1
auto fa2 = iset.find(11); // returns the iterator == iset.end()
auto fa3 = iset.count(1); // returns 2
auto fa4 = iset.count(11); // returns 0
</code></pre>
<p>Finding an element in an associative container that requires <strong>unique</strong> keys is a simple matter—the element is or is not in the container. For the containers that allow <strong>multiple</strong> keys, the process is more complicated: There may be many elements with the given key. When a <code>multimap</code> or <code>multiset</code> has multiple elements of a given key, those elements will be adjacent within the container.</p>
<pre><code class="c++">multimap&lt;int, int&gt; ikdn;
ikdn.insert(&#123; 1,2 &#125;);
ikdn.insert(&#123; 2,5 &#125;);
ikdn.insert(&#123; 1,7 &#125;);
auto num = ikdn.count(1);
auto iter = ikdn.find(1); // a iterator point to a pair
while (num) &#123;
 cout &lt;&lt; iter-&gt;second &lt;&lt; endl;
 ++iter;
 --num;
&#125;
</code></pre>
<p>We are guaranteed that iterating across a multimap or multiset returns all the elements with a given key in sequence.</p>
<p>Alternatively, we can solve our problem using <code>lower_bound</code> and <code>upper_bound</code>. Each of these operations take a key and returns an iterator. If the key is in the container, the iterator returned from <code>lower_bound</code> will refer to the <strong>first</strong> instance of that key and the iterator returned by <code>upper_bound</code> will refer just after the last instance of the key. If the element is not in the <code>multimap</code>, then <code>lower_bound</code> and <code>upper_bound</code> will return <strong>equal</strong> iterators; both will refer to the point at which the key can be inserted without disrupting the order. Thus, calling <code>lower_bound</code> and <code>upper_bound</code> on the same key yields an iterator range that denotes all the elements with that key.</p>
<pre><code class="c++">multimap&lt;int, int&gt; ikdn;
ikdn.insert(&#123; 1,2 &#125;);
ikdn.insert(&#123; 2,5 &#125;);
ikdn.insert(&#123; 1,7 &#125;);
for (auto i = ikdn.lower_bound(1); i != ikdn.upper_bound(1); i++) &#123;
 cout &lt;&lt; i-&gt;second &lt;&lt; endl;
&#125;
</code></pre>
<p>The remaining way to solve this problem is the most direct of the three approaches: Instead of calling <code>upper_bound</code> and <code>lower_bound</code>, we can call <code>equal_range</code>. This function takes a key and returns a pair of iterators. If the key is present, then the first iterator refers to the first instance of the key and the second iterator refers one past the last instance of the key.</p>
<pre><code class="c++">for (auto pos = ikdn.equal_range(1); pos.first != pos.second; ++pos.first) &#123;
 cout &lt;&lt; pos.first-&gt;second &lt;&lt; endl;
&#125;
</code></pre>
<h3 id="A-Word-Transformation-Map"><a href="#A-Word-Transformation-Map" class="headerlink" title="A Word Transformation Map"></a>A Word Transformation Map</h3><pre><code class="c++">#include&lt;bits/stdc++.h&gt;
using namespace std;

void transform(ifstream&amp; in_que, ifstream&amp; in_tran) &#123;
 map&lt;string, string&gt; dir;

 //read transform rules
 string sou, con, text, word;
 while (in_tran &gt;&gt; sou &gt;&gt; con) &#123;
  dir[sou] = con;
 &#125;
 in_tran.close();

 //read question
 while (getline(in_que, text)) &#123;
  istringstream ss(text);
  while (ss &gt;&gt; word) &#123;
   if (dir.find(word) != dir.end()) &#123;
    cout &lt;&lt; dir[word] &lt;&lt; &quot; &quot;;
   &#125;
   else &#123;
    cout &lt;&lt; word &lt;&lt; &quot; &quot;;
   &#125;
  &#125;
  cout &lt;&lt; endl;
 &#125;
&#125;

int main() &#123;
 ifstream in_que(&quot;ques.txt&quot;);
 ifstream in_tran(&quot;trans.txt&quot;);
 transform(in_que, in_tran);
 return 0;
&#125;
</code></pre>
<h2 id="The-Unordered-Containers"><a href="#The-Unordered-Containers" class="headerlink" title="The Unordered Containers"></a>The Unordered Containers</h2><p>The new standard defines four <strong>unordered</strong> associative containers. Rather than using a comparison operation to organize their elements, these containers use a <strong>hash function</strong> and the key type’s == operator. An unordered container is most useful when we have a key type for which there is no obvious ordering relationship among the elements. These containers are also useful for applications in which the cost of maintaining the elements in order is prohibitive.</p>
<h3 id="Using-an-Unordered-Container"><a href="#Using-an-Unordered-Container" class="headerlink" title="Using an Unordered Container"></a>Using an Unordered Container</h3><p>Aside from operations that manage the hashing, the <strong>unordered</strong> containers provide the same operations (<code>find</code>, <code>insert</code>, and so on) as the <strong>ordered</strong> containers. That means that the operations we’ve used on map and set apply to <code>unordered_map</code> and <code>unordered_set</code> as well. Similarly for the unordered versions of the containers that allow multiple keys.</p>
<p>As a result, we can usually use an unordered container in place of the corresponding ordered container, and vice versa. However, because the elements are not stored in order, the output of a program that uses an unordered container will (ordinarily) differ from the same program using an ordered container.</p>
<p>For example, we can rewrite our original word-counting program to use an unordered_map and compare them;</p>
<pre><code class="c++">#include&lt;bits/stdc++.h&gt;
using namespace std;

//uppercase string
void upperCase(string&amp; str) &#123;
 for (auto&amp; i : str) &#123;
  i = toupper(i);
 &#125;
&#125;

//read word from istream, when word is EOF end read
int read_word(istream&amp; in, string&amp; word) &#123;
 in &gt;&gt; word;
 upperCase(word);
 if (word == (&quot;EOF&quot;)) &#123;
  return 0;
 &#125;
 return 1;
&#125;

int main() &#123;
 // count the number of times each word occurs in the input
 map&lt;string, size_t&gt; count_words;
 unordered_map&lt;string, size_t&gt; unorder_count_words;

 set&lt;string&gt; exclude = &#123; &quot;c++&quot;,&quot;Java&quot; &#125;;
 string word;
 while (read_word(cin, word)) &#123;
  // add to order map
  auto isSuccess1 = count_words.insert(&#123; word,1 &#125;);
  if (!isSuccess1.second) &#123;
   ++isSuccess1.first-&gt;second;
  &#125;
  // add to unorder map
  auto isSuccess2 = unorder_count_words.insert(&#123; word,1 &#125;);
  if (!isSuccess2.second) &#123;
   ++isSuccess2.first-&gt;second;
  &#125;
 &#125;
 //order map
 for (const auto&amp; w : count_words) &#123;
  cout &lt;&lt; w.first &lt;&lt; &quot; appear &quot; &lt;&lt; w.second &lt;&lt; &quot; times.&quot; &lt;&lt; endl;
 &#125;
 cout &lt;&lt; &quot;__________&quot; &lt;&lt; endl;
 //unorder map
 for (const auto&amp; w : unorder_count_words) &#123;
  cout &lt;&lt; w.first &lt;&lt; &quot; appear &quot; &lt;&lt; w.second &lt;&lt; &quot; times.&quot; &lt;&lt; endl;
 &#125;
 return 0;
&#125;
//c
//a
//b
//eof
//A appear 1 times.
//B appear 1 times.
//C appear 1 times.
//__________
//B appear 1 times.
//C appear 1 times.
//A appear 1 times.
</code></pre>
<p>The <strong>unordered</strong> containers are organized as a collection of <strong>buckets</strong>, each of which holds zero or more elements. These containers use a hash function to map elements to buckets. To access an element, the container first <strong>computes</strong> the element’s <strong>hash code</strong>, which tells which bucket to search. The container puts all of its elements with a given hash value into the same bucket. If the container allows multiple elements with a given key, all the elements with the same key will be in the same bucket. As a result, the <strong>performance</strong> of an unordered container <strong>depends on the quality of its hash function and on the number and size of its buckets.</strong></p>
<p>The unordered containers provide a set of functions, in <a target="_blank" rel="noopener" href="https://www.cplusplus.com/reference/unordered_map/unordered_map/">here</a>, that let us manage the buckets. These members let us inquire about the state of the container and force the container to reorganize itself as needed.</p>
<h3 id="Requirements-on-Key-Type-for-Unordered-Containers"><a href="#Requirements-on-Key-Type-for-Unordered-Containers" class="headerlink" title="Requirements on Key Type for Unordered Containers"></a>Requirements on Key Type for Unordered Containers</h3><p>By default, the unordered containers use the <code>==</code> operator on the key type to compare elements. They also use an object of type <code>hash&lt;key_type&gt;</code> to generate the hash code for each element. The library supplies versions of the hash template for the built in types, including pointers. It also defines hash for some of the library types, including strings and the smart pointer types that we will describe in next chapter. Thus, we can directly define unordered containers whose key is one of the built-in types (including pointer types), or a string, or a smart pointer.</p>
<p>However, we <strong>cannot</strong> directly define an unordered container that uses a our own class types for its key type. Unlike the containers, we cannot use the hash template directly. Instead, we must supply our own version of the hash template.</p>

        </div>
        <!-- .entry-content -->
        <div class="single-reward">
          <div class="reward-open">赏
            <div class="reward-main">
              <ul class="reward-row">
                <li class="alipay-code"><img src="https://morning.eu.org/images/custom/donate/404.jpg"></li>
                <li class="wechat-code"><img src="https://morning.eu.org/images/custom/donate/404.jpg"></li>
              </ul>
            </div>
          </div>
        </div>
        <div style="text-align:center; width: 100%" class="social-share share-mobile" data-disabled="diandian, tencent"></div>
        <footer class="post-footer">
          <div class="post-lincenses"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="nofollow"><i class="fa fa-creative-commons" aria-hidden="true"></i> 知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a></div>
          <div class="post-tags">
          </div>
          <div class="post-share">
            <div class="social-share sharehidden share-component"></div>
            <i class="iconfont show-share icon-forward"></i>
          </div>
        </footer><!-- .entry-footer -->
      </article>
      <!-- #post-## -->
      <div class="toc" style="background: none;"></div>
      <section class="post-squares nextprev">
        
          
            <div class="post-nepre half previous">
          
            <a href="/2021/12/08/Cpp_c08/" rel="prev">
              <div class="background">
                <img class="lazyload" src="" data-src="/images/cover/C_background.webp" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" src="/images/cover/C_background.webp">
              </div>
              <span class="label">
              Previous Post</span>
              <div class="info">
                <h3>
                (ch8) Dynamic Memory</h3>
                <hr>
              </div>
            </a>
          </div>
        
        
          
            <div class="post-nepre half next">
          
            <a href="/2021/12/06/Cpp_c06/" rel="next">
              <div class="background">
                <img class="lazyload" src="" data-src="/images/cover/C_background.webp" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" src="/images/cover/C_background.webp">
              </div>
              <span class="label">
              Next Post</span>
              <div class="info">
                <h3>
                (ch6) Generic Algorithms</h3>
                <hr>
              </div>
            </a>
          </div>
        
      </section>
      



      <section class="author-profile">
        <div class="info" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
          <a href="morning.eu.org" class="profile gravatar"><img src="/images/custom/avatar.jpg" itemprop="image" alt="Noah" height="70" width="70"></a>
          <div class="meta">
            <span class="title">Author</span>
            <h3 itemprop="name">
            <a href="morning.eu.org" itemprop="url" rel="author">Noah</a>
            </h3>
          </div>
        </div>
        <hr>
        <p><i class="iconfont icon-write"></i>life is perfact</p>
      </section>
    </main><!-- #main -->
  </div><!-- #primary -->
</div>



    </div>    
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="请输入关键词..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            // PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
    <footer id="colophon" class="site-footer" role="contentinfo">
  <div class="site-info">
    <div class="footertext">
      <div class="img-preload">
        <img src="https://morning.eu.org/images/other/wordpress-rotating-ball-o.svg">
        <img src="https://morning.eu.org/images/other/disqus-preloader.svg">
      </div>
      <p style="color: #666666;">&copy 2019-2026
      </p>
    </div>
    <div class="footer-device">
      <p style="font-family: 'Ubuntu', sans-serif;">
        <span style="color: #b9b9b9;">Theme <a href="https://github.com/honjun/hexo-theme-sakura" target="_blank"
            style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Sakura</a> <i
            class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i> by <a
            href="https://2heng.xin/" target="_blank"
            style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Mashiro</a>&<a
            href="https://www.hojun.cn/" target="_blank"
            style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Hojun</a>, Powered by Hexo,
          Hosted by Coding Pages</a>
        </span>
      </p>
    </div>
  </div>
</footer>



<!-- <script src="/js/tocbot.js"></script> -->
<script type="text/javascript" src="/js/lib.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script type="text/javascript" src="/js/InsightSearch.js"></script>
<script type="text/javascript" src="/js/jquery.fancybox.min.js"></script>
<script type="text/javascript" src="/js/zoom.min.js"></script>
<script type="text/javascript" src="/js/sakura-app.js"></script>
<script src="/js/botui.js"></script>
<!-- 不蒜子 网页计数器 -->
<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script type="text/javascript">
  /* <![CDATA[ */
  if (/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
    var Poi = { "pjax": "1", "movies": { "url": "", "name": "", "live": "close" }, "windowheight": "fixed", "codelamp": "close", "ajaxurl": "", "order": "asc", "formpostion": "bottom" };
  } else {
    var Poi = { "pjax": "1", "movies": { "url": "", "name": "", "live": "open" }, "windowheight": "auto", "codelamp": "close", "ajaxurl": "", "order": "asc", "formpostion": "bottom" };
  }
  /* ]]> */

</script>
<script>
  $(document).ready(function () {
    if ($(".toc").length > 0 && document.body.clientWidth > 1200) {
      if ($(".pattern-center").length > 0) { //有图的情况
        tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -400,
          scrollSmoothOffset: -85
        });
      } else {
        tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -85,
          scrollSmoothOffset: -85
        });
      }
      var offsetTop = $('.toc').offset().top - 95;
      window.onscroll = function () {
        var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
        if (scrollTop >= offsetTop) {
          $('.toc').addClass('toc-fixed');
        } else {
          $('.toc').removeClass('toc-fixed');
        }
      }
    }
  });
</script>
    <div class="openNav no-select" style="height: 50px;">
      <div class="iconflat no-select" style="width: 50px; height: 50px;">
        <div class="icon"></div>
      </div>
      <div class="site-branding search-form-submit">
        <i class="iconfont js-toggle-search iconsearch icon-search"></i>
      </div>
    </div>
  </section>
  <div id="mo-nav" class="">
  <div class="m-avatar">
    <img src="https://morning.eu.org/images/custom/avatar.jpg">
  </div>
  <p style="text-align: center; color: #333; font-weight: 900; font-family: 'Ubuntu', sans-serif; letter-spacing: 1.5px">桜荘そのうさぎ</p>
  <p style="text-align: center; word-spacing: 20px;">
    
      
        <a href="https://github.com/NoahBishop" class="fa fa-github" target="_blank" style="color: #333; margin-left:20px"></a>
      
        <a href="https://t.me/mega1037" class="fa fa-telegram" target="_blank" style="color: #25c6fe; margin-left:20px"></a>
      
        <a href="https://mailto:beiloquuw@gamil.com" class="fa fa-google" target="_blank" style="color: #dd4b39; margin-left:20px"></a>
      
    
  </p>
  <ul id="menu-new-1" class="menu">
    
      <li>
        <a href="/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
            首页
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/archives">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
            归档
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/categories/%E6%8A%80%E6%9C%AF/">
                  <i class="fa fa-code" aria-hidden="true"></i>
                  技术
                </a>
              </li>
            
              <li>
                <a href="/categories/%E7%94%9F%E6%B4%BB/">
                  <i class="fa fa-file-text-o" aria-hidden="true"></i>
                  生活
                </a>
              </li>
            
              <li>
                <a href="/categories/%E8%B5%84%E6%BA%90/">
                  <i class="fa fa-cloud-download" aria-hidden="true"></i>
                  资源
                </a>
              </li>
            
              <li>
                <a href="/categories/%E9%9A%8F%E6%83%B3/">
                  <i class="fa fa-commenting-o" aria-hidden="true"></i>
                  随想
                </a>
              </li>
            
              <li>
                <a href="/categories/%E8%BD%AC%E8%BD%BD/">
                  <i class="fa fa-book" aria-hidden="true"></i>
                  转载
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="/tags/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-tag" aria-hidden="true"></i>
            标签
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="javascript:;">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-list-ul faa-vertical" aria-hidden="true"></i>
            清单
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/music/">
                  <i class="fa fa-headphones" aria-hidden="true"></i>
                  歌单
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="/comment/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
            留言板
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/links/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-link faa-shake" aria-hidden="true"></i>
            友人帐
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-leaf faa-wrench" aria-hidden="true"></i>
            关于
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/about/">
                  <i class="fa fa-meetup" aria-hidden="true"></i>
                  我？
                </a>
              </li>
            
              <li>
                <a href="/theme-sakura/">
                  <i class="fa iconfont icon-sakura" aria-hidden="true"></i>
                  主题
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="/atom.xml">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-rss faa-pulse" aria-hidden="true"></i>
            RSS
          </span>
        </a>
        
      </li>
    
  </ul>
  <p style="text-align: center; font-size: 13px; color: #b9b9b9;">&copy 2019 hexo-sakura</p>
</div>
<button onclick="topFunction()" class="mobile-cd-top" id="moblieGoTop" title="Go to top" style="display: none;"><i class="fa fa-chevron-up" aria-hidden="true"></i></button>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
<script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
<!-- require MetingJS -->
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
<style>
  .aplayer .aplayer-lrc {
    height: 35px;
  }
  .aplayer .aplayer-lrc p{
    font-size: 16px;
    font-weight: 700;
    line-height: 18px !important;
  }
  .aplayer .aplayer-lrc p.aplayer-lrc-current{
    color: #FF1493;
  }
  .aplayer.aplayer-narrow .aplayer-body{
    left: -66px !important;
  }
  .aplayer.aplayer-fixed .aplayer-lrc {
    display: none;
  }
  .aplayer .aplayer-lrc.aplayer-lrc-hide {
      display:none !important;
  }
  .aplayer.aplayer-fixed .lrc-show {
    display: block;
    background: rgba(255, 255, 255, 0.8);
  }
</style>
<meting-js

</meting-js>
<script>
  $(function(){
    $('body').on('click', '.aplayer', function(){
      if($('.aplayer-button').hasClass('aplayer-play')) {
        $('.aplayer-lrc').removeClass('lrc-show');
      } else {
        $('.aplayer-lrc').addClass('lrc-show');
      }
    })
  });
</script>
</body>
</html>